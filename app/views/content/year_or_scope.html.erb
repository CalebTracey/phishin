<div id="header_container">
  <div id="header">
    <%= content_tag :h1, @title %>
    <%= content_tag :h3, pluralize(@shows.size, 'show') %>
    <%= render partial: 'sort_filter', locals: { item_hash: {'<i class="icon-time"></i> Backwards down the # line' => 'date desc', '<i class="icon-time"></i> Forward up the # line' => 'date asc', '<i class="icon-heart"></i> Likes' => 'likes'} } %>
  </div>
</div>
  
<div id="content">
  
  <% if @shows.empty? %>
    <h2>Got a blank space where shows should be...</h2>
  <% else %>
  
    <% unless @display_separators %>
      <ul class="item_list clickable">
    <% end %>
  
    <% tour = false %>
    <% @shows.each_with_index do |show, idx| %>
  
      <% if @display_separators %>
        <% if show.tour != tour %>
          <% if tour %>
            </ul>
          <% end %>
          <%= content_tag 'h1', show.tour.name %>
          <ul class="item_list clickable">
          <% tour = show.tour %>
        <% end %>
      <% end %>
    
      <li>
        <%= content_tag :h2, link_to(show.date.strftime("%b %-d"), "/#{show.date}") %>
        <%= content_tag :h4, link_to(show.venue.name.html_safe, "/#{show.venue.slug}") %>
        <%= content_tag :h5, link_to(show.venue.location, "/map?term=#{CGI::escape(show.venue.location)}") %>
        <%= render partial: 'shared/context_menu_for_show', locals: { show: show, viewing_this_show: false } %>
        <%= likable(show, @shows_likes[idx], 'small') %>
        <div style="clear: both;"></div>
      </li>
      
    <% end %>
    </ul>
  <% end %>

</div>
